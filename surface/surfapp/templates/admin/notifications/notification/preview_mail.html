{% extends "admin/base_site.html" %}

{% load i18n admin_urls static admin_modify unfold %}

{% block extrahead %}{{ block.super }}
    <script src="{% url 'admin:jsi18n' %}"></script>
    {{ media }}
{% endblock %}

{% block bodyclass %}{{ block.super }} app-{{ opts.app_label }} model-{{ opts.model_name }} change-form{% endblock %}

{% if not is_popup %}
    {% block breadcrumbs %}
        <div class="px-4">
            <div class="container mb-6 mx-auto -my-3 lg:mb-12">
                <ul class="flex flex-wrap">
                    {% url 'admin:index' as link %}
                    {% trans 'Home' as name %}
                    {% include 'unfold/helpers/breadcrumb_item.html' with link=link name=name %}

                    {% url 'admin:app_list' app_label=opts.app_label as link %}
                    {% include 'unfold/helpers/breadcrumb_item.html' with link=link name=opts.app_config.verbose_name %}

                    {% if has_view_permission %}
                        {% url opts|admin_urlname:'changelist' as link %}
                        {% include 'unfold/helpers/breadcrumb_item.html' with link=link  name=opts.verbose_name_plural|capfirst %}
                    {% else %}
                        {% include 'unfold/helpers/breadcrumb_item.html' with link='' name=opts.verbose_name_plural|capfirst %}
                    {% endif %}

                    {% if add %}
                        {% blocktranslate trimmed with name=opts.verbose_name asvar breadcrumb_name %}
                            Add {{ name }}
                        {% endblocktranslate %}

                        {% include 'unfold/helpers/breadcrumb_item.html' with link='' name=breadcrumb_name %}
                    {% else %}
                        {% include 'unfold/helpers/breadcrumb_item.html' with link='' name=original|truncatewords:'18' %}
                    {% endif %}
                </ul>
            </div>
        </div>
    {% endblock %}
{% endif %}


{% block nav-global-side %}
    {% if has_add_permission %}
        {% include "unfold/helpers/add_link.html" %}
    {% endif %}
{% endblock %}
{% block content %}

<div class="flex flex-col min-h-screen">
    <div class="flex items-center justify-between px-8 py-6 border-b shadow">
        <h1 class="text-2xl font-semibold text-black">{{ title }}</h1>
    </div>
            {% if html_message %}
                <div class="mb-6 p-6 rounded shadow relative grow min-h-screen" style="height: 1200px;">
                    <iframe src="data:text/html;charset=utf-8,{{ html_message|urlencode }}"
                            class="inset-0 w-full h-full"
                            sandbox="allow-same-origin"
                            scrolling="yes">
                    </iframe>
                </div>
            {% else %}
                <pre class="w-full h-full p-6 rounded shadow overflow-auto">{{ original.message }}</pre>
            {% endif %}
</div>

{% endblock %}
